# ============================================================================
# PRODUCTION DEPLOYMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and update all values marked with "CHANGE_ME"
# Run: python scripts/generate-secrets.py to generate secure SECRET_KEY and NEXTAUTH_SECRET
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# For Docker Compose (default):
DATABASE_URL=postgresql://acuvera_user:CHANGE_ME_STRONG_PASSWORD@db:5432/acuvera_db
# For external PostgreSQL:
# DATABASE_URL=postgresql://user:password@host:5432/acuvera_db

# PostgreSQL connection details (used by docker-compose)
POSTGRES_USER=acuvera_user
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=acuvera_db
POSTGRES_PORT=5432

# ----------------------------------------------------------------------------
# JWT Authentication
# ----------------------------------------------------------------------------
# REQUIRED: Generate a secure secret with: python scripts/generate-secrets.py
SECRET_KEY=CHANGE_ME_GENERATE_SECURE_SECRET
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# ----------------------------------------------------------------------------
# File Upload & Storage
# ----------------------------------------------------------------------------
UPLOAD_DIR=./uploads
STORAGE_TYPE=local  # local or s3
MAX_FILE_SIZE_MB=25

# AWS S3 Configuration (if STORAGE_TYPE=s3)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=
S3_PREFIX=uploads

# ----------------------------------------------------------------------------
# Redis (Background Jobs)
# ----------------------------------------------------------------------------
# For Docker Compose (default):
REDIS_URL=redis://redis:6379/0
# For external Redis:
# REDIS_URL=redis://host:6379/0
REDIS_PORT=6379

# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------
# REQUIRED: Set to false in production
DEBUG=false
ENVIRONMENT=production  # development, staging, production

# REQUIRED: Set to your production domain(s), comma-separated
# Example: https://app.acuvera.com,https://www.acuvera.com
# Use "*" only for development
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# REQUIRED: Set to your production frontend URL
FRONTEND_URL=https://your-domain.com

# ----------------------------------------------------------------------------
# Frontend Configuration (Next.js)
# ----------------------------------------------------------------------------
# REQUIRED: Generate a secure secret with: python scripts/generate-secrets.py
NEXTAUTH_SECRET=CHANGE_ME_GENERATE_SECURE_SECRET
NEXTAUTH_URL=https://your-domain.com
NEXT_PUBLIC_API_BASE_URL=https://api.your-domain.com

# Analytics & Monitoring (Optional but recommended)
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com
NEXT_PUBLIC_SENTRY_DSN=
SENTRY_DSN=

# ----------------------------------------------------------------------------
# AI Provider Configuration
# ----------------------------------------------------------------------------
# Choose: "openai" or "bedrock"
AI_PROVIDER=openai

# OpenAI Configuration
OPENAI_API_KEY=CHANGE_ME_YOUR_OPENAI_KEY
# gpt-4o = more accurate; gpt-4o-mini = faster/cheaper
OPENAI_MODEL=gpt-4o

# AWS Bedrock Configuration (if AI_PROVIDER=bedrock)
BEDROCK_REGION=us-east-1
BEDROCK_MODEL_ID=
TEXTRACT_ENABLED=false

# Allow stub AI for testing (set to false in production)
AI_ALLOW_STUB=false

# ----------------------------------------------------------------------------
# Email Configuration (Required for email verification & password reset)
# ----------------------------------------------------------------------------
# SMTP settings for transactional emails
# Recommended providers: SendGrid, AWS SES, Mailgun, Postmark
SMTP_HOST=smtp.sendgrid.net  # or your SMTP host
SMTP_PORT=587
SMTP_USER=apikey  # or your SMTP username
SMTP_PASSWORD=CHANGE_ME_SMTP_PASSWORD
SMTP_FROM_EMAIL=noreply@your-domain.com

# Security tokens
PASSWORD_RESET_TOKEN_MINUTES=30

# ----------------------------------------------------------------------------
# Seed Data (Development Only)
# ----------------------------------------------------------------------------
DEFAULT_ORG_NAME=Default Org
DEFAULT_ADMIN_EMAIL=admin@acuvera.dev
DEFAULT_ADMIN_PASSWORD=ChangeMe123!

# ----------------------------------------------------------------------------
# Docker Compose Port Overrides (Optional)
# ----------------------------------------------------------------------------
# Override default ports if needed:
# API_PORT=8000
# POSTGRES_PORT=5432
# REDIS_PORT=6379
